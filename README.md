<!-- TABLE OF CONTENTS -->
<details open="open">
  <summary>Περιεχόμενα</summary>
  <ol>
    <li>
      <a href="#σχετικά-με-την-εφαρμογή">Σχετικά με την εφαρμογή</a>
    </li>
    <li><a href="#αρχικοποίηση-του-συστήματος">Αρχικοποίηση του συστήματος</a></li>
    <li><a href="#εκτέλεση-της-εφαρμογής">Εκτέλεση της εφαρμογής</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## Σχετικά με την εφαρμογή

Το noobcash είναι ένα κρυπτονόμισμα το οποίο έχει υλοποιηθεί στο πλαίσια ολοκλήρωσης των σπουδών μου. Πιο συγκεκριμένα, έχει υλοποιηθεί ένα δίκτυο ομότιμων κόμβων (miners), το οποίο με χρήση της τεχνολογίας blockchain επιτρέπει την αποθήκευση δοσοληψιών (transactions), που εκτελούνται μεταξύ των χρηστών του συστήματος (clients), με κατανεμημένο τρόπο χωρίς να χρειάζεται, δηλαδή, η μεσολάβηση κάποιας κεντρικής αρχής. Ο κώδικας του Noobcash έχει αναπτυχθεί με τέτοιο τρόπο έτσι ώστε να αποφεύγονται επιθέσεις double spending και forgery attacks. Τέλος, η συμφωνία (consensus) και ο συντονισμός μεταξύ των miners εξασφαλίζεται με χρήση proof-of-work.

## Αρχικοποίηση του συστήματος

Αρχικά ενεργοποιείται ο πρώτος κόμβος του δικτύου (Bootstrap Node). Ο Bootstrap Node φροντίζει να φτίαξει το πρώτο block του blockchain (Genesis Block), το οποίο περιέχει ένα μόνο transaction το οποίο δεν έχει αποστολέα και έχει ως παραλήπτη τον εαυτό του. Όταν συνδεθούν όλοι οι κόμβοι στο δίκτυο (υποθέτουμε ότι ο αριθμός των κόμβων που συμμετέχουν είναι γνωστός εξ αρχής), το ποσό αυτό θα μοιραστεί ισάξια μεταξύ όλων των miners. Στην συνέχεια, ο Bootstrap Node απλά περιμένει να
συνδεθούν όλοι οι υπόλοιποι κόμβοι στο δίκτυο.

## Εκτέλεση της εφαρμογής

Για την εκτέλεση της εφαρμογής DrEYEve έχουν δημιουργηθεί κάποια αρχεία που διευκολύνουν την διαδικασία και τα οποία βρίσκονται στον φάκελο running_scripts. Τα αρχεία που αναφέρονται παρακάτω θα πρέπει να τρέξουν μέσα από τον φάκελο running_scripts προκειμένου να εκτελεστούν σωστά. 

Αρχικά, ανοίγουμε ένα πρώτο τερματικό, μετακινούμαστε στον φάκελο running_scripts και εκτελούμε τις εξής εντολές:
```shell
./data_init.sh
./start_kafka_server.sh
./kafka_producer_consumer.sh 
```
Το αρχείο data_init.sh εκτελεί τα αρχεία mongo_data_init.py, postgres_data_init.py και insert_data_to_postgres, τα οποία περιγράφτηκαν παραπάνω. Έτσι δημιουργούνται και αρχικοποιούνται οι βάσεις δεδομένων MongoDB και PostgreSQL του συστήματος. Το αρχείο start_kafka_server.sh ξεκινάει τις το Apache Kafka και το Apache Zookeeper, υπηρεσίες που είναι απαραίτητες για την ορθή λειτουργία του μεσίτη και του καταναλωτή του συστήματος. Tο αρχείο kafka_producer_consumer.sh κάνει χρήση των αρχείων MongoSourceConnector.properties και worker.properties, τα οποία βρίσκονται στον φάκελο /running_scripts/kafka_producer_config/, προκειμένου ο μεσίτης του συστήματος να χρησιμοποιήσει το MongoDB Kafka Connector, έτσι ώστε να λαμβάνει αυτόματα όλα τα δεδομένα που εισάγονται στη βάση MongoDB του συστήματος. Επιπλέον, το αρχείο kafka_producer_consumer.sh εκτελεί το αρχείο kafka_consumer.py, το οποίο περιγράφτηκε παραπάνω, έτσι ώστε να ξεκινήσει η λειτουργία του καταναλωτή του συστήματος.

Στην συνέχεια, ανοίγουμε ένα δεύτερο τερματικό, μετακινούμαστε στον φάκελο running_scripts και εκτελούμε τις εξής εντολές:
```shell
./spark_receiver.sh 
```
Το αρχείο spark_receiver.sh εκτελεί το αρχείο spark_predict.py, το οποίο περιγράφτηκε παραπάνω, έτσι ώστε να ξεκινήσει η λειτουργία του αναλυτή δεδομένων του συστήματος.

Συνεχίζοντας, ανοίγουμε ένα τρίτο τερματικό, μετακινούμαστε στον φάκελο running_scripts και εκτελούμε τις εξής εντολές:
```shell
./rest_server.sh 
```
Το αρχείο rest_server.sh εκτελεί το αρχείο rest_server.py, το οποίο περιγράφτηκε παραπάνω, έτσι ώστε να ξεκινήσει η λειτουργία του REST API του συστήματος.

Σε αυτό το σημείο, λοιπόν, όλα τα συστατικά του συστήματος βρίσκονται σε κατάσταση λειτουργίας και επικοινωνούν μεταξύ τους. Το μόνο πράγμα που απομένει είναι η προσομοίωση της λειτουργίας του συστήματος. Συνεπώς, ανοίγουμε ένα τέταρτο τερματικό, μετακινούμαστε στον φάκελο running_scripts και εκτελούμε τις εξής εντολές:
```shell
./stream_data.sh 
```
Το αρχείο stream_data.sh εκτελεί το αρχείο stream_data.py, το οποίο περιγράφτηκε παραπάνω, έτσι ώστε να ξεκινήσουν να εισέρχονται στο σύστημα οδηγικά δεδομένα σε πραγματικό χρόνο, με σκοπό την επαλήθευση της ορθής λειτουργίας του συστήματος.

Τέλος, αφήνοντας τα 4 τερματικά να τρέξουν τις διαδικασίες που έχουν ξεκινήσει σε αυτά, ανοίγουμε σε έναν browser το url http://localhost:8080, στο οποίο φιλοξενείται το frontend της εφαρμογής DrEYEve.


